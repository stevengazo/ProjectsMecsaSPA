@inject ProjectsDBContext db

    <h6 class="text-end">
    <strong>Monto Facturado: </strong> @Bills.Sum(e => e.Amount).ToString("N2")
    </h6>

<table class="table table-hover">
    <thead>
        <tr class="">
            <td><strong>Numero</strong></td>
            <td><strong>Fecha</strong></td>
            <td><strong>Autor</strong></td>
            <td><strong>Monto</strong></td>
            <td><strong>Nota</strong></td>
            <td><strong>Acciones</strong></td>
        </tr>

    </thead>
    <tbody>
        @foreach (var item in Bills)
        {
            <BillRowComponent item="item" OnDelete="()=> RemoveBill(item)" />
        }
    </tbody>
</table>
@code {

    [Parameter]
    public List<Bill> Bills { get; set; }

    private void RemoveBill(Bill bill)
    {
        var BillToDelete = Bills.Where(e => e.BillId == bill.BillId).FirstOrDefault();
        if( BillToDelete != null) Bills.Remove(BillToDelete);

        db.Bill.Update(bill);
        db.SaveChanges();
        StateHasChanged();
    }

    protected override async Task OnInitializedAsync()
    {
        base.OnInitializedAsync();
    }
}
